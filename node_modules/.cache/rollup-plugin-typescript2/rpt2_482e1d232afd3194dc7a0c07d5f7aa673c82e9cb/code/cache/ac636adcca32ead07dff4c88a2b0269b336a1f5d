{"code":"import { REACT_ELEMENT_TYPE } from \"shared/ReactSymbols\";\nimport { createFiberFromElement, FiberNode } from \"./fiber\";\nimport { HostText } from \"./workTags\";\nimport { Placement } from \"./fiberFlags\";\nfunction ChildReconciler(shouldTrackEffects) {\n    function reconcileSingleElement(returnFiber, currentFirstChild, element) {\n        const fiber = createFiberFromElement(element);\n        fiber.return = returnFiber;\n        return fiber;\n    }\n    function reconcileSingleTextNode(returnFiber, currentFirstChild, content) {\n        const fiber = new FiberNode(HostText, { content }, null);\n        fiber.return = returnFiber;\n        return fiber;\n    }\n    function placeSingleChild(fiber) {\n        if (shouldTrackEffects && fiber.alternate === null) {\n            fiber.flags |= Placement;\n        }\n        return fiber;\n    }\n    return function reconcileChildFibers(returnFiber, currentFirstChild, newChild) {\n        // 判断当前Fiber的类型\n        if (typeof newChild === 'object' && newChild !== null) {\n            switch (newChild.$$typeof) {\n                case REACT_ELEMENT_TYPE:\n                    return placeSingleChild(reconcileSingleElement(returnFiber, currentFirstChild, newChild));\n                default:\n                    if (__DEV__) {\n                        console.warn('未实现的reconcile类型', newChild);\n                    }\n                    break;\n            }\n        }\n        // 文本节点\n        if (typeof newChild === 'string' || typeof newChild === 'number') {\n            return placeSingleChild(reconcileSingleTextNode(returnFiber, currentFirstChild, newChild));\n        }\n        return null;\n    };\n}\nexport const reconcileChildFibers = ChildReconciler(true);\nexport const mountChildFibers = ChildReconciler(false);\n","references":["C:/syp/react18/packages/shared/ReactSymbols.ts","C:/syp/react18/packages/react/react-reconciler/src/fiber.ts","C:/syp/react18/packages/shared/ReactTypes.ts","C:/syp/react18/packages/react/react-reconciler/src/workTags.ts","C:/syp/react18/packages/react/react-reconciler/src/fiberFlags.ts"]}
